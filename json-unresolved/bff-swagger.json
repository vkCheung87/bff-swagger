{
  "swagger" : "2.0",
  "info" : {
    "description" : "这里描述的所有API都是给APP使用的.",
    "version" : "1.0.1",
    "title" : "E招通APP BFF",
    "contact" : {
      "email" : "yjzhang@thoughtworks.com"
    }
  },
  "schemes" : [ "https" ],
  "paths" : {
    "/companies" : {
      "get" : {
        "tags" : [ "company" ],
        "summary" : "获取员工所属的公司列表",
        "consumes" : [ "application/json" ],
        "produces" : [ "application/json" ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "schema" : {
              "type" : "object",
              "properties" : {
                "data" : {
                  "type" : "array",
                  "items" : {
                    "type" : "object",
                    "properties" : {
                      "id" : {
                        "type" : "integer",
                        "format" : "int32",
                        "description" : "用户在该公司下的系统ID"
                      },
                      "staffId" : {
                        "type" : "string",
                        "description" : "用户在该公司下的员工号"
                      },
                      "name" : {
                        "type" : "string",
                        "description" : "用户在该公司下的员工名"
                      },
                      "company" : {
                        "$ref" : "#/definitions/Company"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/announcements" : {
      "get" : {
        "tags" : [ "announcement" ],
        "summary" : "获取公司公告列表，支持分页",
        "parameters" : [ {
          "name" : "page_size",
          "in" : "query",
          "required" : false,
          "default" : 10,
          "description" : "查询的页面大小",
          "type" : "integer"
        }, {
          "name" : "page_number",
          "in" : "query",
          "required" : false,
          "default" : 0,
          "description" : "查询的页面位置",
          "type" : "integer"
        } ],
        "consumes" : [ "application/json" ],
        "produces" : [ "application/json" ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "schema" : {
              "type" : "object",
              "properties" : {
                "data" : {
                  "type" : "array",
                  "items" : {
                    "type" : "object",
                    "properties" : {
                      "id" : {
                        "type" : "number",
                        "description" : "公告的系统ID"
                      },
                      "title" : {
                        "type" : "string",
                        "description" : "公告标题"
                      },
                      "date" : {
                        "type" : "string",
                        "format" : "date-time",
                        "description" : "公告发布时间"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/announcements/{announcement_id}" : {
      "get" : {
        "tags" : [ "announcement" ],
        "summary" : "获取公司公告列表详细内容",
        "parameters" : [ {
          "name" : "announcement_id",
          "in" : "path",
          "required" : true,
          "description" : "公告的系统ID",
          "type" : "number"
        } ],
        "consumes" : [ "application/json" ],
        "produces" : [ "application/json" ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "schema" : {
              "type" : "object",
              "properties" : {
                "data" : {
                  "$ref" : "#/definitions/Announcement"
                }
              }
            }
          }
        }
      }
    },
    "/staff" : {
      "get" : {
        "tags" : [ "staff" ],
        "summary" : "获取员工基本信息",
        "consumes" : [ "application/json" ],
        "produces" : [ "application/json" ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "schema" : {
              "type" : "object",
              "properties" : {
                "data" : {
                  "$ref" : "#/definitions/Staff"
                }
              }
            }
          }
        }
      }
    },
    "/policies/{staff_level}" : {
      "get" : {
        "summary" : "获取对应员工级别的具体政策信息",
        "tags" : [ "policy" ],
        "parameters" : [ {
          "name" : "staff_level",
          "in" : "path",
          "description" : "员工级别",
          "required" : true,
          "type" : "string"
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "schema" : {
              "type" : "object",
              "properties" : {
                "data" : {
                  "$ref" : "#/definitions/Policies"
                }
              }
            }
          }
        }
      }
    },
    "/projects" : {
      "get" : {
        "summary" : "查询项目",
        "tags" : [ "project" ],
        "parameters" : [ {
          "name" : "keyword",
          "in" : "query",
          "required" : true,
          "type" : "string",
          "description" : "搜索关键字"
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "schema" : {
              "type" : "object",
              "properties" : {
                "data" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/definitions/Project"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/departments" : {
      "get" : {
        "summary" : "模糊搜索公司的部门",
        "tags" : [ "departments" ],
        "parameters" : [ {
          "name" : "keyword",
          "in" : "query",
          "required" : true,
          "type" : "string",
          "description" : "搜索关键字"
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "schema" : {
              "type" : "object",
              "properties" : {
                "data" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/definitions/Department"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/cities" : {
      "get" : {
        "summary" : "获取热门城市列表(keyword为空的时候)，或模糊搜索城市（传入keyword的时候）",
        "tags" : [ "city" ],
        "parameters" : [ {
          "name" : "keyword",
          "in" : "query",
          "required" : false,
          "type" : "string",
          "description" : "搜索关键字"
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "schema" : {
              "type" : "object",
              "properties" : {
                "data" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/definitions/City"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/ticketTypes" : {
      "get" : {
        "summary" : "获取对应公司已经创建的所有单据类型列表",
        "tags" : [ "ticketType" ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "schema" : {
              "type" : "object",
              "properties" : {
                "data" : {
                  "type" : "array",
                  "items" : {
                    "type" : "object",
                    "properties" : {
                      "companyId" : {
                        "type" : "number"
                      },
                      "name" : {
                        "type" : "string"
                      },
                      "i" : {
                        "type" : "number"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/ticketTypes/{ticket_type_id}" : {
      "get" : {
        "summary" : "获取对应公司，指定单据类型的详细配置",
        "tags" : [ "ticketType" ],
        "parameters" : [ {
          "name" : "ticket_type_id",
          "in" : "path",
          "description" : "单据类型对应的ID",
          "required" : true,
          "type" : "number"
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "schema" : {
              "type" : "object",
              "properties" : {
                "data" : {
                  "$ref" : "#/definitions/TicketType"
                }
              }
            }
          }
        }
      }
    },
    "/ticketTypes/{ticket_type_id}/tickets" : {
      "get" : {
        "summary" : "获取该单据类型下，可以被关联的单据",
        "tags" : [ "ticketType" ],
        "parameters" : [ {
          "name" : "ticket_type_id",
          "in" : "path",
          "description" : "单据类型对应的ID",
          "required" : true,
          "type" : "number"
        }, {
          "name" : "ticket_id",
          "in" : "query",
          "description" : "需要关联单据的单据ID",
          "required" : false,
          "type" : "number"
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "schema" : {
              "type" : "object",
              "properties" : {
                "data" : {
                  "type" : "array",
                  "items" : {
                    "type" : "object",
                    "properties" : {
                      "ticketId" : {
                        "type" : "number",
                        "description" : "单据的系统ID"
                      },
                      "ticketName" : {
                        "type" : "string",
                        "description" : "单据的名称"
                      },
                      "summiterName" : {
                        "type" : "string",
                        "description" : "单据的提交人姓名"
                      },
                      "createdTime" : {
                        "type" : "string",
                        "format" : "date-time",
                        "description" : "单据的系统ID"
                      },
                      "department" : {
                        "$ref" : "#/definitions/Department"
                      },
                      "project" : {
                        "$ref" : "#/definitions/Project"
                      },
                      "travels" : {
                        "type" : "array",
                        "items" : {
                          "$ref" : "#/definitions/Travel"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/tickets" : {
      "get" : {
        "summary" : "获取员工表单列表",
        "tags" : [ "ticket" ],
        "parameters" : [ {
          "name" : "ticketStatus",
          "in" : "query",
          "required" : true,
          "type" : "string",
          "enum" : [ "submitted", "draft" ]
        }, {
          "name" : "page_size",
          "in" : "query",
          "required" : false,
          "default" : 10,
          "description" : "查询的页面大小",
          "type" : "integer"
        }, {
          "name" : "page_number",
          "in" : "query",
          "required" : false,
          "default" : 0,
          "description" : "查询的页面位置",
          "type" : "integer"
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "schema" : {
              "type" : "object",
              "properties" : {
                "data" : {
                  "type" : "object",
                  "properties" : {
                    "data" : {
                      "type" : "array",
                      "items" : {
                        "type" : "object",
                        "properties" : {
                          "ticketTitle" : {
                            "type" : "string",
                            "description" : "单据的标题"
                          },
                          "ticketId" : {
                            "type" : "number",
                            "description" : "单据编号"
                          },
                          "createdTime" : {
                            "type" : "string",
                            "format" : "date-time",
                            "description" : "单据创建时间"
                          },
                          "amount" : {
                            "type" : "number",
                            "format" : "double",
                            "description" : "单据金额（如果没有为null）"
                          },
                          "approvalStatus" : {
                            "type" : "string",
                            "enum" : [ "approved", "rejected", "approving", "auditing", "audited", "rejectedFromAudit", "reviewing", "reviewed", "rejectedFromReview", "draft", "recall" ],
                            "description" : "单据状态，具体的值有审批中（approving），审批通过（approved），拒绝（rejected），审核中（auditing），审核通过（audited），审批驳回（rejectedFromAudit），复核中（reviewing），复核通过（reviewed），复核驳回（rejectedFromReview）, draft(草稿), recall (撤回)"
                          }
                        }
                      }
                    },
                    "total" : {
                      "type" : "integer",
                      "format" : "int32",
                      "description" : "总条目数"
                    },
                    "pageSize" : {
                      "type" : "integer",
                      "format" : "int32",
                      "description" : "查询的页面大小"
                    },
                    "pageNumber" : {
                      "type" : "integer",
                      "format" : "int32",
                      "description" : "查询的页面位置"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post" : {
        "summary" : "提交表单",
        "tags" : [ "ticket" ],
        "parameters" : [ {
          "name" : "body",
          "in" : "body",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/Ticket"
          }
        } ],
        "responses" : {
          "201" : {
            "description" : "created"
          }
        }
      }
    },
    "/tickets/draft" : {
      "post" : {
        "summary" : "保存草稿",
        "tags" : [ "ticket" ],
        "parameters" : [ {
          "name" : "body",
          "in" : "body",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/Ticket"
          }
        } ],
        "responses" : {
          "201" : {
            "description" : "created"
          }
        }
      }
    },
    "/tickets/verification" : {
      "post" : {
        "summary" : "单据校验",
        "tags" : [ "ticket" ],
        "parameters" : [ {
          "name" : "body",
          "in" : "body",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/Ticket"
          }
        } ],
        "responses" : {
          "204" : {
            "description" : "ticket is OK"
          },
          "400" : {
            "description" : "ticket is not OK.",
            "schema" : {
              "type" : "object",
              "properties" : {
                "data" : {
                  "type" : "object",
                  "description" : "错误的详细（还需要进一步确定）",
                  "properties" : {
                    "budgets" : {
                      "type" : "array",
                      "items" : {
                        "type" : "object",
                        "properties" : {
                          "budgetId" : {
                            "type" : "integer",
                            "format" : "int32",
                            "description" : "预算的系统ID"
                          },
                          "overBudget" : {
                            "type" : "boolean",
                            "description" : "是否超过预算"
                          }
                        }
                      }
                    },
                    "expenses" : {
                      "type" : "array",
                      "items" : {
                        "type" : "object",
                        "properties" : {
                          "isViolated" : {
                            "type" : "boolean",
                            "description" : "是否违反了费用政策"
                          },
                          "messages" : {
                            "type" : "array",
                            "items" : {
                              "type" : "string"
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "message" : {
                  "type" : "string"
                },
                "code" : {
                  "type" : "string"
                }
              }
            }
          }
        }
      }
    },
    "/tickets/{ticket_id}" : {
      "get" : {
        "summary" : "获取表单详细信息",
        "tags" : [ "ticket" ],
        "parameters" : [ {
          "name" : "ticket_id",
          "in" : "path",
          "required" : true,
          "type" : "string"
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "schema" : {
              "type" : "object",
              "properties" : {
                "data" : {
                  "type" : "object",
                  "properties" : {
                    "ticket" : {
                      "$ref" : "#/definitions/Ticket"
                    },
                    "audits" : {
                      "type" : "array",
                      "items" : {
                        "$ref" : "#/definitions/ApprovalHistory"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put" : {
        "summary" : "修改单据",
        "tags" : [ "ticket" ],
        "parameters" : [ {
          "name" : "ticket_id",
          "in" : "path",
          "required" : true,
          "type" : "string"
        }, {
          "name" : "body",
          "in" : "body",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/Ticket"
          }
        } ],
        "responses" : {
          "202" : {
            "description" : "ticket is modified"
          }
        }
      },
      "delete" : {
        "summary" : "删除表单",
        "tags" : [ "ticket" ],
        "parameters" : [ {
          "name" : "ticket_id",
          "in" : "path",
          "required" : true,
          "type" : "string"
        } ],
        "responses" : {
          "200" : {
            "description" : "OK"
          }
        }
      }
    },
    "/approvals" : {
      "post" : {
        "summary" : "提交审批结果",
        "tags" : [ "approval" ],
        "parameters" : [ {
          "name" : "body",
          "in" : "body",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/Approval"
          }
        } ],
        "responses" : {
          "201" : {
            "description" : "CREATED"
          }
        }
      }
    },
    "/auditors" : {
      "get" : {
        "summary" : "获取审批人员",
        "tags" : [ "auditor" ],
        "parameters" : [ {
          "name" : "keyword",
          "in" : "query",
          "required" : true,
          "type" : "string"
        }, {
          "name" : "type",
          "in" : "query",
          "required" : true,
          "type" : "string",
          "enum" : [ "approval", "audit" ]
        } ],
        "responses" : {
          "200" : {
            "description" : "CREATED",
            "schema" : {
              "type" : "object",
              "properties" : {
                "data" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/definitions/Auditor"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auditFlows/{flow_id}" : {
      "get" : {
        "summary" : "获取审批流上的审批人员列表",
        "tags" : [ "auditFlow" ],
        "parameters" : [ {
          "name" : "flow_id",
          "description" : "审批流ID",
          "in" : "path",
          "required" : true,
          "type" : "number"
        }, {
          "name" : "projectId",
          "description" : "单据选择的项目ID",
          "in" : "query",
          "required" : false,
          "type" : "number"
        }, {
          "name" : "departmentId",
          "description" : "单据选择的部门ID",
          "in" : "query",
          "required" : false,
          "type" : "number"
        }, {
          "name" : "ticketTypeId",
          "description" : "单据类型的系统ID",
          "in" : "query",
          "required" : true,
          "type" : "number"
        }, {
          "name" : "hasOverBudget",
          "description" : "是否超预算",
          "in" : "query",
          "required" : false,
          "type" : "boolean",
          "default" : false
        }, {
          "name" : "hasViolated",
          "description" : "是否违规",
          "in" : "query",
          "required" : false,
          "type" : "boolean",
          "default" : false
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "schema" : {
              "type" : "object",
              "properties" : {
                "data" : {
                  "type" : "array",
                  "items" : {
                    "type" : "object",
                    "properties" : {
                      "level" : {
                        "type" : "integer"
                      },
                      "auditors" : {
                        "type" : "array",
                        "items" : {
                          "$ref" : "#/definitions/Auditor"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "securityDefinitions" : {
    "petstore_auth" : {
      "type" : "oauth2",
      "authorizationUrl" : "http://petstore.swagger.io/oauth/dialog",
      "flow" : "implicit",
      "scopes" : {
        "write:pets" : "modify pets in your account",
        "read:pets" : "read your pets"
      }
    },
    "api_key" : {
      "type" : "apiKey",
      "name" : "api_key",
      "in" : "header"
    }
  },
  "definitions" : {
    "Company" : {
      "type" : "object",
      "properties" : {
        "id" : {
          "type" : "number",
          "description" : "公司的系统ID"
        },
        "name" : {
          "type" : "string",
          "description" : "公司名称"
        }
      }
    },
    "Department" : {
      "type" : "object",
      "properties" : {
        "id" : {
          "type" : "number",
          "description" : "部门的系统ID"
        },
        "name" : {
          "type" : "string",
          "description" : "部门名称"
        }
      }
    },
    "Project" : {
      "type" : "object",
      "properties" : {
        "id" : {
          "type" : "number",
          "description" : "项目的系统ID"
        },
        "name" : {
          "type" : "string",
          "description" : "项目名称"
        },
        "startTime" : {
          "type" : "string",
          "format" : "date",
          "description" : "项目开始时间"
        },
        "endTime" : {
          "type" : "string",
          "format" : "date",
          "description" : "项目结束时间"
        }
      }
    },
    "City" : {
      "type" : "object",
      "properties" : {
        "name" : {
          "type" : "string",
          "description" : "城市名称"
        },
        "level" : {
          "type" : "integer",
          "description" : "城市级别"
        }
      }
    },
    "Announcement" : {
      "type" : "object",
      "properties" : {
        "title" : {
          "type" : "string",
          "description" : "公司公告的标题"
        },
        "date" : {
          "type" : "string",
          "format" : "date-time",
          "description" : "公司公告发布的时间"
        },
        "body" : {
          "type" : "string",
          "description" : "公司公告的主体内容"
        }
      }
    },
    "Staff" : {
      "type" : "object",
      "properties" : {
        "id" : {
          "type" : "number",
          "description" : "员工在系统内的ID"
        },
        "staffId" : {
          "type" : "string",
          "description" : "员工的工号"
        },
        "name" : {
          "type" : "string",
          "description" : "姓名"
        },
        "email" : {
          "type" : "string",
          "format" : "email"
        },
        "telephone" : {
          "type" : "string",
          "description" : "手机号码"
        },
        "company" : {
          "$ref" : "#/definitions/Company"
        },
        "job" : {
          "$ref" : "#/definitions/Job"
        },
        "department" : {
          "$ref" : "#/definitions/Department"
        },
        "level" : {
          "$ref" : "#/definitions/StaffLevel"
        },
        "account" : {
          "$ref" : "#/definitions/Account"
        },
        "bussiessCard" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/BussinessCard"
          }
        }
      }
    },
    "Job" : {
      "type" : "object",
      "properties" : {
        "id" : {
          "type" : "number",
          "description" : "岗位系统ID"
        },
        "jobId" : {
          "type" : "string",
          "description" : "用户设置的岗位ID"
        },
        "name" : {
          "type" : "string",
          "description" : "岗位名称"
        }
      }
    },
    "StaffLevel" : {
      "type" : "object",
      "properties" : {
        "id" : {
          "type" : "number",
          "description" : "该员工所对应级别的ID"
        },
        "name" : {
          "type" : "string",
          "description" : "该员工所对应级别"
        }
      }
    },
    "Account" : {
      "type" : "object",
      "required" : [ "cardNumber", "bank", "owner" ],
      "properties" : {
        "cardNumber" : {
          "type" : "string",
          "description" : "报销账户对应的卡号"
        },
        "bank" : {
          "type" : "string",
          "description" : "报销账户所在的银行"
        },
        "subbank" : {
          "type" : "string",
          "description" : "报销账户的开卡银行"
        },
        "openSite" : {
          "type" : "string",
          "description" : "报销账户开卡行所在地点"
        },
        "owner" : {
          "type" : "string",
          "description" : "报销账户的所有者名称"
        }
      }
    },
    "BussinessCard" : {
      "type" : "object",
      "properties" : {
        "cardNumber" : {
          "type" : "string",
          "description" : "商务卡卡号"
        },
        "cardType" : {
          "type" : "string",
          "description" : "商务卡类型"
        }
      }
    },
    "Rate" : {
      "type" : "object",
      "properties" : {
        "rate" : {
          "type" : "number",
          "format" : "double",
          "description" : "对人民币的汇率"
        },
        "currency" : {
          "type" : "string",
          "enum" : [ "dollar" ],
          "description" : "具体币种"
        }
      }
    },
    "Policies" : {
      "type" : "object",
      "properties" : {
        "feePolicy" : {
          "description" : "费用管理政策",
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/Policy"
          }
        },
        "subsidyPolicy" : {
          "description" : "补助政策",
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/Policy"
          }
        }
      }
    },
    "Policy" : {
      "type" : "object",
      "required" : [ "title", "body" ],
      "properties" : {
        "title" : {
          "type" : "string",
          "description" : "政策标题"
        },
        "body" : {
          "type" : "string",
          "description" : "政策主体内容"
        }
      }
    },
    "TicketType" : {
      "type" : "object",
      "properties" : {
        "id" : {
          "type" : "number",
          "description" : "单据类型的系统ID"
        },
        "ticketTypeId" : {
          "type" : "string",
          "description" : "用户设置的单据类型ID"
        },
        "name" : {
          "type" : "string",
          "description" : "单据类型名称"
        },
        "needRelatedTicket" : {
          "type" : "boolean",
          "description" : "是否关联单据"
        },
        "isForcedRelated" : {
          "type" : "boolean",
          "description" : "是否强制关联"
        },
        "relatedTicketType" : {
          "type" : "number",
          "format" : "int64",
          "description" : "被关联的单据类型ID"
        },
        "isUrgent" : {
          "type" : "boolean",
          "default" : false,
          "description" : "是否加急"
        },
        "approvalFlowId" : {
          "type" : "number",
          "description" : "审批流ID"
        },
        "hasApprovalFlow" : {
          "type" : "boolean",
          "default" : false,
          "description" : "是否绑定了审批流"
        },
        "ticketHeader" : {
          "$ref" : "#/definitions/TicketHeader"
        },
        "expenseTypes" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/ExpenseType"
          }
        },
        "subjects" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/Subject"
          }
        },
        "expenseSupportedValue" : {
          "type" : "object",
          "properties" : {
            "hotelStarCN" : {
              "description" : "酒店星级选项（中文）",
              "type" : "string",
              "enum" : [ "其他", "三星", "四星", "五星" ]
            },
            "hotelStarEN" : {
              "description" : "酒店星级选项（英文）",
              "type" : "string",
              "enum" : [ "other", "three stars", "four stars", "five stars" ]
            },
            "flightCabinCN" : {
              "description" : "飞机舱位选项（英文）",
              "type" : "string",
              "enum" : [ "头等舱", "商务舱", "经济舱" ]
            },
            "flightCabinEN" : {
              "description" : "飞机舱位选项（英文）",
              "type" : "string",
              "enum" : [ "first class", "business class", "economy class" ]
            },
            "trainCabinCN" : {
              "description" : "火车舱位选项（英文）",
              "type" : "string",
              "enum" : [ "商务座", "特等座", "一等座", "二等座", "高级软卧", "软卧", "硬卧", "软座", "硬座", "站票" ]
            },
            "trainCabinEN" : {
              "description" : "火车舱位选项（英文）",
              "type" : "string",
              "enum" : [ "business class", "VIP class", "first class", "second class", "deluxe leepers", "soft sleepers", "hard sleepers", "soft seats", "hard seats", "standing-room-only ticket" ]
            }
          }
        },
        "reasons" : {
          "type" : "array",
          "items" : {
            "type" : "string"
          }
        },
        "subsidyPolicies" : {
          "$ref" : "#/definitions/SubsidyPolicy"
        },
        "rates" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/Rate"
          }
        }
      }
    },
    "TicketHeader" : {
      "type" : "object",
      "properties" : {
        "hasDepatureField" : {
          "type" : "boolean",
          "description" : "是否需要出发地字段"
        },
        "hasDestinationField" : {
          "type" : "boolean",
          "description" : "是否需要目的地字段"
        },
        "hasBeginDateField" : {
          "type" : "boolean",
          "description" : "是否需要开始时间字段"
        },
        "hasEndDateField" : {
          "type" : "boolean",
          "description" : "是否需要结束时间字段"
        },
        "hasReimburserField" : {
          "type" : "boolean",
          "description" : "是否需要报销人字段"
        },
        "hasDepartmentField" : {
          "type" : "boolean",
          "description" : "是否需要报销单据所属部门字段"
        },
        "hasProjectField" : {
          "type" : "boolean",
          "description" : "是否需要报销单据所属项目字段"
        },
        "hasReasonField" : {
          "type" : "boolean",
          "description" : "是否需要事由字段"
        },
        "hasRemarkField" : {
          "type" : "boolean",
          "description" : "是否需要备注字段"
        }
      }
    },
    "ExpenseType" : {
      "type" : "object",
      "properties" : {
        "id" : {
          "type" : "number",
          "description" : "费用类型系统ID"
        },
        "expenseId" : {
          "type" : "string",
          "description" : "费用类型ID，用户自定义的"
        },
        "name" : {
          "type" : "string",
          "description" : "费用类型名称"
        },
        "subjectId" : {
          "type" : "number",
          "description" : "科目ID"
        },
        "fields" : {
          "type" : "object",
          "required" : [ "hasConsumerTimeField", "hasCostField" ],
          "properties" : {
            "hasConsumerTimeField" : {
              "type" : "boolean",
              "default" : true,
              "description" : "发生日期"
            },
            "hasCostField" : {
              "type" : "boolean",
              "default" : true,
              "description" : "费用金额"
            },
            "hasFlightCabinField" : {
              "type" : "boolean",
              "default" : false,
              "description" : "飞机舱位"
            },
            "hasTrainCabinField" : {
              "type" : "boolean",
              "default" : false,
              "description" : "火车舱位"
            },
            "hasAirlineField" : {
              "type" : "boolean",
              "default" : false,
              "description" : "航空公司"
            },
            "hasNumberOfParticipantField" : {
              "type" : "boolean",
              "default" : false,
              "description" : "参与人数"
            },
            "hasMerchantNameField" : {
              "type" : "boolean",
              "default" : false,
              "description" : "商户名称"
            },
            "hasHotelStarField" : {
              "type" : "boolean",
              "default" : false,
              "description" : "酒店星级"
            },
            "hasDepatureField" : {
              "type" : "boolean",
              "default" : false,
              "description" : "出发地"
            },
            "hasDestinationField" : {
              "type" : "boolean",
              "default" : false,
              "description" : "目的地"
            },
            "hasConsumerCityField" : {
              "type" : "boolean",
              "default" : false,
              "description" : "消费城市"
            },
            "hasDiscountField" : {
              "type" : "boolean",
              "default" : false,
              "description" : "折扣"
            },
            "hasCurrencyField" : {
              "type" : "boolean",
              "default" : false,
              "description" : "币种"
            },
            "hasRemarkField" : {
              "type" : "boolean",
              "default" : false,
              "description" : "备注"
            }
          }
        }
      }
    },
    "SubsidyPolicy" : {
      "type" : "object",
      "properties" : {
        "id" : {
          "type" : "number",
          "description" : "补助政策的系统ID"
        },
        "name" : {
          "type" : "string",
          "description" : "补助政策的政策名称"
        },
        "items" : {
          "type" : "array",
          "items" : {
            "type" : "object",
            "properties" : {
              "id" : {
                "type" : "number",
                "description" : "补贴项的系统ID"
              },
              "name" : {
                "type" : "string",
                "description" : "补贴项名称"
              },
              "cityLevel" : {
                "type" : "string",
                "description" : "适用城市级别"
              },
              "subsidy" : {
                "type" : "number",
                "format" : "double",
                "description" : "补贴金额"
              },
              "currency" : {
                "type" : "string",
                "description" : "补贴币种"
              },
              "calculateMode" : {
                "type" : "string",
                "enum" : [ "times", "halfDay", "wholeDay" ],
                "description" : "计算方式"
              },
              "subjectID" : {
                "type" : "number",
                "description" : "关联的科目ID"
              }
            }
          }
        },
        "discount" : {
          "type" : "object",
          "properties" : {
            "threshold" : {
              "type" : "integer",
              "format" : "int32",
              "description" : "连续出差的阈值"
            },
            "dayOfStartDiscount" : {
              "type" : "integer",
              "format" : "int32",
              "description" : "开始按照打折计算的出差天数"
            },
            "rate" : {
              "type" : "integer",
              "format" : "int32",
              "description" : "打折的折扣率"
            }
          }
        }
      }
    },
    "Ticket" : {
      "type" : "object",
      "properties" : {
        "ticketType" : {
          "$ref" : "#/definitions/TicketType"
        },
        "ticketName" : {
          "type" : "string"
        },
        "headers" : {
          "type" : "object",
          "properties" : {
            "depature" : {
              "type" : "string",
              "description" : "出发地"
            },
            "companyId" : {
              "type" : "string",
              "description" : "报销人所在的公司ID"
            },
            "reimburserId" : {
              "type" : "string",
              "description" : "报销人的系统ID"
            },
            "reimburser" : {
              "type" : "string",
              "description" : "报销人"
            },
            "department" : {
              "type" : "string",
              "description" : "报销单据所属部门"
            },
            "project" : {
              "type" : "string",
              "description" : "报销单据所属项目"
            },
            "reason" : {
              "type" : "string",
              "description" : "事由"
            },
            "detailForReason" : {
              "type" : "string",
              "description" : "事由为其他时候，填写的内容"
            },
            "remark" : {
              "type" : "string",
              "description" : "备注"
            }
          }
        },
        "travels" : {
          "type" : "array",
          "description" : "出差行程",
          "items" : {
            "$ref" : "#/definitions/Travel"
          }
        },
        "attachtments" : {
          "type" : "array",
          "description" : "附件列表",
          "items" : {
            "type" : "object",
            "properties" : {
              "id" : {
                "type" : "number",
                "description" : "附件的系统ID"
              },
              "filename" : {
                "type" : "string",
                "description" : "文件名"
              },
              "displayName" : {
                "type" : "string",
                "description" : "附件显示的名称"
              },
              "createdTime" : {
                "type" : "string",
                "format" : "date-time",
                "description" : "附件上传时间"
              }
            }
          }
        },
        "subsidies" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/Subsidy"
          }
        }
      }
    },
    "Travel" : {
      "type" : "object",
      "properties" : {
        "destination" : {
          "type" : "string",
          "description" : "目的地"
        },
        "cityLevel" : {
          "type" : "string",
          "description" : "城市等级"
        },
        "beginDate" : {
          "type" : "string",
          "format" : "date",
          "description" : "开始时间"
        },
        "endDate" : {
          "type" : "string",
          "format" : "date",
          "description" : "结束时间"
        },
        "expenses" : {
          "type" : "array",
          "items" : {
            "$ref" : "#/definitions/Expense"
          }
        }
      }
    },
    "Expense" : {
      "description" : "具体费用项",
      "type" : "object",
      "properties" : {
        "id" : {
          "type" : "number",
          "description" : "费用类型系统ID"
        },
        "fields" : {
          "type" : "object",
          "properties" : {
            "consumerTime" : {
              "type" : "string",
              "format" : "date",
              "description" : "发生日期"
            },
            "costField" : {
              "type" : "number",
              "format" : "double",
              "description" : "费用金额"
            },
            "flightCabin" : {
              "type" : "string",
              "description" : "飞机舱位"
            },
            "trainCabin" : {
              "type" : "string",
              "description" : "火车舱位"
            },
            "airline" : {
              "type" : "string",
              "description" : "航空公司"
            },
            "numberOfParticipant" : {
              "type" : "integer",
              "format" : "int32",
              "description" : "参与人数"
            },
            "merchantName" : {
              "type" : "string",
              "description" : "商户名称"
            },
            "hotelStar" : {
              "type" : "string",
              "description" : "酒店星级"
            },
            "depature" : {
              "type" : "string",
              "description" : "出发地"
            },
            "destination" : {
              "type" : "string",
              "description" : "目的地"
            },
            "consumerCity" : {
              "type" : "string",
              "description" : "消费城市"
            },
            "discount" : {
              "type" : "number",
              "format" : "double",
              "description" : "折扣"
            },
            "currency" : {
              "type" : "string",
              "description" : "币种"
            },
            "remark" : {
              "type" : "string",
              "description" : "备注"
            }
          }
        }
      }
    },
    "Subsidy" : {
      "description" : "补助，按天或按次的",
      "type" : "object",
      "properties" : {
        "date" : {
          "type" : "integer",
          "format" : "int64"
        },
        "fee" : {
          "type" : "number",
          "format" : "double",
          "description" : "补贴金额"
        },
        "currency" : {
          "type" : "string",
          "description" : "补贴币种"
        },
        "calculateMode" : {
          "type" : "string",
          "enum" : [ "times", "halfDay", "wholeDay" ]
        },
        "susidyId" : {
          "type" : "integer",
          "format" : "int32"
        },
        "occurTimes" : {
          "type" : "integer",
          "format" : "int32",
          "default" : 1,
          "description" : "补助fa's"
        }
      }
    },
    "Approval" : {
      "type" : "object",
      "required" : [ "ticketId", "approvalType", "auditorId" ],
      "properties" : {
        "ticketId" : {
          "type" : "number",
          "description" : "被审批的单据系统ID"
        },
        "auditor" : {
          "$ref" : "#/definitions/Auditor"
        },
        "approvaldType" : {
          "type" : "string",
          "enum" : [ "approved", "rejected", "finished", "approvedToFinace", "approvedToNext" ]
        },
        "approvedReason" : {
          "type" : "string",
          "description" : "审批的具体理由"
        },
        "nextAuditor" : {
          "$ref" : "#/definitions/Auditor"
        }
      }
    },
    "ApprovalHistory" : {
      "type" : "object",
      "properties" : {
        "auditor" : {
          "$ref" : "#/definitions/Auditor"
        },
        "approvaldType" : {
          "type" : "string",
          "enum" : [ "approved", "rejected", "approving", "auditing", "audited", "rejectedFromAudit", "reviewing", "reviewed", "rejectedFromReview", "draft" ],
          "description" : "单据状态，具体的值有审批中（approving），审批通过（approved），拒绝（rejected），审核中（auditing），审核通过（audited），审批驳回（rejectedFromAudit），复核中（reviewing），复核通过（reviewed），复核驳回（rejectedFromReview）"
        },
        "approvedReason" : {
          "type" : "string",
          "description" : "审批的具体理由"
        },
        "submitedTime" : {
          "type" : "string",
          "format" : "date-time",
          "description" : "审批提交的时间"
        }
      }
    },
    "Auditor" : {
      "type" : "object",
      "description" : "审批人员信息",
      "properties" : {
        "auditorId" : {
          "type" : "number",
          "description" : "审批人的系统ID"
        },
        "auditorName" : {
          "type" : "string",
          "description" : "审批人的姓名"
        },
        "jobName" : {
          "type" : "string",
          "description" : "审批人的岗位名称"
        },
        "jobId" : {
          "type" : "number",
          "description" : "审批人的岗位系统ID"
        },
        "departmentId" : {
          "type" : "number",
          "description" : "审批人的部门系统ID"
        },
        "departmentName" : {
          "type" : "string",
          "description" : "审批人的部门名称"
        }
      }
    },
    "Subject" : {
      "type" : "object",
      "description" : "会计科目信息",
      "properties" : {
        "id" : {
          "type" : "integer",
          "format" : "int64",
          "description" : "会计科目的系统ID"
        },
        "subjectId" : {
          "type" : "string",
          "description" : "会计科目，用户设置的ID"
        },
        "name" : {
          "type" : "string",
          "description" : "会计科目名称"
        }
      }
    }
  },
  "host" : "virtserver.swaggerhub.com",
  "basePath" : "/eap-cmb/BFF/1.0.0"
}